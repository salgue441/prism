# Prism NATS Server Configuration
# =============================================================================

# Server identification
server_name: prism-nats

# Client connections
port: 4222
host: 0.0.0.0

# HTTP monitoring
http_port: 8222

# Cluster routing (for future scaling)
cluster {
  port: 6222
  name: prism-cluster
}

# Logging
debug: false
trace: false
logtime: true
log_file: ""

# Limits
max_connections: 1000
max_payload: 1048576  # 1MB
max_pending: 10000000  # 10MB
max_control_line: 4096

# Ping/Pong configuration
ping_interval: "2m"
ping_max: 2

# Write deadline
write_deadline: "10s"

# JetStream (persistent messaging)
jetstream {
  store_dir: "/data/jetstream"
  max_mem: 256M
  max_file: 1G
}

# TLS (disabled for development, enable in production)
# tls {
#   cert_file: "/etc/nats/certs/server.crt"
#   key_file: "/etc/nats/certs/server.key"
#   ca_file: "/etc/nats/certs/ca.crt"
#   verify: true
# }

# Authorization (disabled for development)
# authorization {
#   user: prism
#   password: $NATS_PASSWORD
# }
