# =============================================================================
# Prism API Gateway - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values

# =============================================================================
# Gateway Service
# =============================================================================
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=8080
GATEWAY_READ_TIMEOUT=30s
GATEWAY_WRITE_TIMEOUT=30s
GATEWAY_IDLE_TIMEOUT=120s

# =============================================================================
# Auth Service
# =============================================================================
AUTH_GRPC_HOST=0.0.0.0
AUTH_GRPC_PORT=50051
AUTH_HTTP_PORT=8081

# JWT Configuration
JWT_PRIVATE_KEY_PATH=./keys/private.pem
JWT_PUBLIC_KEY_PATH=./keys/public.pem
JWT_ACCESS_TOKEN_TTL=15m
JWT_REFRESH_TOKEN_TTL=7d
JWT_ISSUER=prism

# =============================================================================
# OAuth Providers
# =============================================================================
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URL=http://localhost:8081/auth/google/callback

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_REDIRECT_URL=http://localhost:8081/auth/github/callback

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=prism
DATABASE_PASSWORD=prism_secret
DATABASE_NAME=prism
DATABASE_SSL_MODE=disable
DATABASE_MAX_OPEN_CONNS=25
DATABASE_MAX_IDLE_CONNS=5
DATABASE_CONN_MAX_LIFETIME=5m

# Connection string (alternative to individual settings)
# DATABASE_URL=postgres://prism:prism_secret@localhost:5432/prism?sslmode=disable

# =============================================================================
# Consul
# =============================================================================
CONSUL_HTTP_ADDR=localhost:8500
CONSUL_TOKEN=
CONSUL_DATACENTER=dc1

# =============================================================================
# Observability
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# Loki (for log shipping)
LOKI_URL=http://localhost:3100

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_REQUESTS_PER_SECOND=100
RATE_LIMIT_BURST_SIZE=200

# =============================================================================
# Security
# =============================================================================
# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# API Key hash salt (generate a random 32-byte hex string)
API_KEY_SALT=your-random-32-byte-hex-salt

# =============================================================================
# Environment
# =============================================================================
ENVIRONMENT=development
